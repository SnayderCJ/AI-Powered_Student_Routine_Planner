{% load static %}

<!-- Header -->
<header class="app-nav">
    <section class="welcome-header">
      <div class="welcome-content">
        <div class="welcome-user">
          <div class="avatar">
            <img src="{% if user_avatar %}{{ user_avatar }}{% else %}{% static 'images/default-avatar.png' %}{% endif %}" 
                 alt="Avatar de {{ user_display_name|default:'Usuario' }}"
                 onerror="this.src='https://ui-avatars.com/api/?name={{ user_display_name|default:'Usuario' }}&background=8b5cf6&color=fff&size=150';">
          </div>
          <div>
            <h1 class="welcome-title">
              {{ greeting }}, {% if request.user.is_authenticated %}{{ user_display_name }}{% else %}Estudiante{% endif %}
            </h1>
            <p class="welcome-date">{{ current_date }}</p>
          </div>
        </div>
        <div class="welcome-actions">
          <button class="icon-button notification-button">
            <i class="fa-solid fa-moon"></i>
          </button>
          <button class="icon-button notification-button">
            <i class="fas fa-bell"></i>
            {% comment %} Agregar el contador de notificaciones {% endcomment %}
            <span class="notification-badge">3</span> 
          </button>
          <div class="productivity-indicator">
            <p>Productividad hoy</p>
            <p id="header-productividad" class="productivity-value">--%</p>
          </div>
        </div>
      </div>
    </section>
</header>