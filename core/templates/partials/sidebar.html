{% load static %}
<nav id="sidebar" class="fixed inset-y-0 left-0 z-40 flex h-full w-60 -translate-x-full flex-col border-r border-sidebar-border bg-sidebar-bg transition-transform duration-300 ease-in-out md:relative md:translate-x-0">
    
    <div class="flex h-24 flex-shrink-0 items-center justify-center px-6">
        <img src="{% static 'img/Logo2.png' %}" alt="Logo StudyFly" class="h-14">
    </div>

    <div class="flex-grow overflow-y-auto p-4">
        <a href="{% url 'core:home' %}" class="flex items-center gap-4 rounded-md px-4 py-3 text-sidebar-muted transition-colors hover:text-foreground">
            <i class="fa-solid fa-grip text-lg"></i>
            <span>Dashboard</span>
        </a>
        <a href="{% url 'planner:horarios' %}" class="flex items-center gap-4 rounded-md px-4 py-3 text-sidebar-muted transition-colors hover:text-foreground">
            <i class="fa-solid fa-calendar text-lg"></i>
            <span>Horarios</span>
        </a>
        <a href="{% url 'planner:tareas' %}" class="flex items-center gap-4 rounded-md px-4 py-3 text-sidebar-muted transition-colors hover:text-foreground">
            <i class="fa-solid fa-list-check text-lg"></i>
            <span>Tareas</span>
        </a>
        <div class="flex items-center gap-4 rounded-md px-4 py-3 text-sidebar-muted">
            <i class="fa-solid fa-chart-simple text-lg"></i>
            <span>Productividad</span>
        </div>
        <div class="flex items-center gap-4 rounded-md px-4 py-3 text-sidebar-muted">
            <i class="fa-solid fa-clock text-lg"></i>
            <span>Tiempo de Enfoque</span>
        </div>
    </div>

    <div class="flex-shrink-0 border-t border-sidebar-border p-4">
        <div class="flex items-center justify-between">
            <a href="{% url 'core:perfil' %}" class="flex min-w-0 items-center gap-3">
                <img class="h-10 w-10 flex-shrink-0 rounded-full object-cover"
                     src="{% if user_avatar %}{{ user_avatar }}{% else %}{% static 'images/default-avatar.png' %}{% endif %}" 
                         alt="Avatar de {{ user_display_name|default:'Usuario' }}"
                         onerror="this.src='https://ui-avatars.com/api/?name={{ user_display_name|default:'Usuario' }}&background=a855f7&color=fff&size=150';">
                <div class="min-w-0">
                    <p class="truncate text-sm font-semibold text-foreground">{{ user_display_name|default:'Usuario' }}</p>
            </a>
            <a href="{% url 'core:settings' %}">
                    <p class="truncate text-xs text-muted-foreground">Configuración</p>
                </div>
            </a>
            <a href="{% url 'accounts:logout' %}" class="flex-shrink-0 rounded-md p-2 text-muted-foreground transition-colors hover:text-foreground" title="Cerrar Sesión">
                <i class="fa-solid fa-right-from-bracket"></i>
            </a>
        </div>
    </div>
</nav>